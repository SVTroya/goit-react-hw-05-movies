"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[387],{387:function(n,t,e){e.r(t),e.d(t,{default:function(){return w}});var r,a,u,i=e(861),c=e(439),o=e(757),s=e.n(o),p=e(791),l=e(689),f=e(565),d=e(168),h=e(867),v=h.ZP.ul(r||(r=(0,d.Z)(["\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  list-style: none;\n"]))),m=h.ZP.li(a||(a=(0,d.Z)(["\n  width: 100%;\n  background-color: var(--color-card-bckg);\n  border-radius: 12px;\n  border: 1px solid #2e2f42;\n  color: var(--color-text-dark);\n  padding: 20px;\n\n  p{\n    text-align: justify;\n    margin-bottom: 20px;\n  }\n"]))),g=h.ZP.span(u||(u=(0,d.Z)(["\n  display: block;\n  margin-left: auto;\n  font-weight: 500;\n  text-align: right;\n"]))),x=e(184);var w=function(){var n=(0,l.UO)().movieId,t=(0,p.useState)([]),e=(0,c.Z)(t,2),r=e[0],a=e[1],u=(0,p.useState)(!1),o=(0,c.Z)(u,2),d=o[0],h=o[1],w=(0,p.useCallback)(function(){var n=(0,i.Z)(s().mark((function n(t){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.wH)(t);case 2:0===(e=n.sent).length&&h(!0),a(e);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),[]);return(0,p.useEffect)((function(){try{w(n)}catch(t){console.log(t)}}),[n,w]),(0,x.jsxs)(x.Fragment,{children:[r.length>0?(0,x.jsx)(v,{children:r.map((function(n){var t=n.content,e=n.author,r=n.id;return(0,x.jsxs)(m,{children:[(0,x.jsx)("p",{children:t}),(0,x.jsx)(g,{children:e})]},r)}))}):null,d?(0,x.jsx)("p",{children:"There is no reviews yet"}):null]})}},565:function(n,t,e){e.d(t,{IV:function(){return d},LI:function(){return g},SU:function(){return s},eP:function(){return l},wH:function(){return v}});var r=e(861),a=e(757),u=e.n(a),i=e(340);i.Z.defaults.baseURL="https://api.themoviedb.org/3/";var c="fde4dd89a2c817f4c4efb19732e7d4a1",o="http://image.tmdb.org/t/p/w500";function s(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("trending/movie/day",{params:{api_key:c}});case 2:return t=n.sent,n.abrupt("return",w(t.data.results));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(u().mark((function n(t){var e,r,a,s,p,l,f;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/movie/".concat(t),{params:{api_key:c}});case 2:return e=n.sent,r=e.data,a=r.title,s=r.overview,p=r.poster_path,l=r.vote_average,f=r.genres,n.abrupt("return",{title:a,overview:s,poster:p?o+p:null,score:Math.floor(10*l),genres:f});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("/movie/".concat(t,"/credits"),{params:{api_key:c}});case 2:return r=n.sent,n.abrupt("return",null===(e=r.data)||void 0===e?void 0:e.cast.map((function(n){var t=n.profile_path,e=n.name,r=n.character,a=n.gender;return{id:n.id,photo:t?o+t:null,name:e,character:r,gender:a}})));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("movie/".concat(t,"/reviews"),{params:{api_key:c}});case 2:return r=n.sent,n.abrupt("return",null===(e=r.data)||void 0===e?void 0:e.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("search/movie",{params:{api_key:c,query:t}});case 2:return e=n.sent,n.abrupt("return",w(e.data.results));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n){return n.map((function(n){var t=n.id,e=n.title,r=n.poster_path;return{id:t,title:e,poster:r?o+r:null}}))}}}]);
//# sourceMappingURL=387.305ab2a6.chunk.js.map